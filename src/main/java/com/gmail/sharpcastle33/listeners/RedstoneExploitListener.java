package com.gmail.sharpcastle33.listeners;

import org.bukkit.Material;
import org.bukkit.block.Block;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.block.BlockDispenseEvent;
import org.bukkit.event.block.BlockPistonEvent;
import org.bukkit.event.block.BlockPistonExtendEvent;
import org.bukkit.inventory.ItemStack;

public class RedstoneExploitListener implements Listener {
	
	@EventHandler
	public void dispenseEvent(BlockDispenseEvent event) {
		ItemStack i = event.getItem();
		Material m = i.getType();
		if(m == Material.BLACK_SHULKER_BOX) {
			event.setCancelled(true);
		}
	}
	
	@EventHandler
	public void pushEvent(BlockPistonExtendEvent event) {
		Block piston = event.getBlock();
		
		Block bprime = piston.getRelative(event.getDirection());
		Material m = bprime.getType();
		if(m == Material.BLACK_SHULKER_BOX) {
			event.setCancelled(true);
		}
	}

}
